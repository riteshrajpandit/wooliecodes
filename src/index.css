@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --font-urbanist: CabinetGrotesk, Urbanist, sans-serif;
  --font-sans: CabinetGrotesk, Urbanist, sans-serif;
  --font-fira: Fira Code, monospace;
  --font-caveat: Caveat, cursive;

  --color-primary-50: #eef2ff;
  --color-primary-100: #e0e7ff;
  --color-primary-200: #c7d2fe;
  --color-primary-300: #a5b4fc;
  --color-primary-400: #818cf8;
  --color-primary-500: #6366f1;
  --color-primary-600: #4f46e5;
  --color-primary-700: #4338ca;
  --color-primary-800: #3730a3;
  --color-primary-900: #312e81;

  --color-secondary-50: #f5f3ff;
  --color-secondary-100: #ede9fe;
  --color-secondary-200: #ddd6fe;
  --color-secondary-300: #c4b5fd;
  --color-secondary-400: #a78bfa;
  --color-secondary-500: #8b5cf6;
  --color-secondary-600: #7c3aed;
  --color-secondary-700: #6d28d9;
  --color-secondary-800: #5b21b6;
  --color-secondary-900: #4c1d95;

  --color-accent-50: #fff1f2;
  --color-accent-100: #ffe4e6;
  --color-accent-200: #fecdd3;
  --color-accent-300: #fda4af;
  --color-accent-400: #fb7185;
  --color-accent-500: #f43f5e;
  --color-accent-600: #e11d48;
  --color-accent-700: #be123c;
  --color-accent-800: #9f1239;
  --color-accent-900: #881337;

  --animate-float: float 6s ease-in-out infinite;
  --animate-marquee: marquee 25s linear infinite;
  --animate-typewriter: typewriter 2s steps(40) forwards;
  --animate-cursor-blink: cursor-blink 0.75s step-end infinite;

  --transition-property-width: width;

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-100%);
    }
  }
  @keyframes typewriter {
    to {
      width: 100%;
    }
  }
  @keyframes cursor-blink {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }
  
  @keyframes border-rotate {
    0% {
      --angle: 0deg;
      transform: rotate(0deg);
    }
    100% {
      --angle: 360deg;
      transform: rotate(360deg);
    }
  }
  
  @keyframes border-spin {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@font-face {
  font-family: 'CabinetGrotesk';
  src: url('/fonts/CabinetGrotesk-Variable.ttf') format('truetype');
  font-weight: 100 900;
  font-display: swap;
  font-style: normal;
}

:root {
  /* Light mode */
  --color-primary-light: #3b4fd8;
  --color-primary-rgb-light: 59, 79, 216;
  --color-secondary-light: #6366f1;
  --color-accent-light: #f43f5e;
  --color-background-light: #f8fafc;
  --color-paper-light: #ffffff;
  --color-text-primary-light: #1e293b;
  --color-text-secondary-light: #475569;

  /* Dark mode */
  --color-primary-dark: #818cf8;
  --color-primary-rgb-dark: 129, 140, 248;
  --color-secondary-dark: #a5b4fc;
  --color-accent-dark: #fb7185;
  --color-background-dark: #0f172a;
  --color-paper-dark: #1e293b;
  --color-text-primary-dark: #f1f5f9;
  --color-text-secondary-dark: #cbd5e1;
  
  /* Animation angle */
  --angle: 0deg;
}

body {
  @apply font-urbanist transition-colors duration-300;
}

.light {
  --color-primary: var(--color-primary-light);
  --color-primary-rgb: var(--color-primary-rgb-light);
  --color-secondary: var(--color-secondary-light);
  --color-accent: var(--color-accent-light);
  --color-background: var(--color-background-light);
  --color-paper: var(--color-paper-light);
  --color-text-primary: var(--color-text-primary-light);
  --color-text-secondary: var(--color-text-secondary-light);
  @apply bg-(--color-background) text-(--color-text-primary);
}

.dark {
  --color-primary: var(--color-primary-dark);
  --color-primary-rgb: var(--color-primary-rgb-dark);
  --color-secondary: var(--color-secondary-dark);
  --color-accent: var(--color-accent-dark);
  --color-background: var(--color-background-dark);
  --color-paper: var(--color-paper-dark);
  --color-text-primary: var(--color-text-primary-dark);
  --color-text-secondary: var(--color-text-secondary-dark);
  @apply bg-(--color-background) text-(--color-text-primary);
}

.handwritten {
  @apply font-caveat;
}

.code {
  @apply font-fira;
}

/* Custom cursor styles */
.custom-cursor {
  @apply fixed pointer-events-none z-50 mix-blend-difference;
  transform: translate(-50%, -50%);
}

/* Disable default cursor when using custom cursor */
.cursor-none {
  cursor: none;
}

/* Hide custom cursor on touch devices */
@media (hover: none) {
  .custom-cursor {
    @apply hidden;
  }
}

/* VS Code inspired styles */
.code-editor {
  @apply font-fira text-sm rounded-md overflow-hidden;
  background-color: #1e1e1e;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

.code-editor-header {
  @apply flex items-center justify-between p-2 bg-[#252526] text-gray-300;
}

.code-editor-tabs {
  @apply flex items-center;
}

.code-editor-tab {
  @apply px-3 py-1 text-sm flex items-center;
}

.code-editor-tab.active {
  @apply bg-[#1e1e1e];
}

/* Paper effect */
.paper {
  @apply bg-(--color-paper) rounded-lg p-6;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}

.paper-torn {
  @apply bg-(--color-paper) rounded-lg p-6 relative overflow-hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  mask-image: url('/path-to-torn-paper-mask.png');
  -webkit-mask-image: url('/path-to-torn-paper-mask.png');
}

/* Page transition effects */
.page-transition-enter {
  @apply opacity-0;
}

.page-transition-enter-active {
  @apply opacity-100 transition-opacity duration-300;
}

.page-transition-exit {
  @apply opacity-100;
}

.page-transition-exit-active {
  @apply opacity-0 transition-opacity duration-300;
}

/* Book page effect */
.book-page {
  @apply relative bg-(--color-paper) rounded-lg overflow-hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.book-page::after {
  content: '';
  @apply absolute right-0 top-0 bottom-0 w-[20px] bg-linear-to-l from-black/10 to-transparent;
}

/* Scroll-driven animations */
.scroll-reveal {
  @apply opacity-0 translate-y-10 transition-all duration-700;
}

.scroll-reveal.active {
  @apply opacity-100 translate-y-0;
}

/* Responsive typography */
h1, .h1 {
  @apply text-4xl font-bold md:text-5xl lg:text-6xl leading-tight;
}

h2, .h2 {
  @apply text-3xl font-bold md:text-4xl leading-tight;
}

h3, .h3 {
  @apply text-2xl font-bold md:text-3xl leading-tight;
}

h4, .h4 {
  @apply text-xl font-bold md:text-2xl leading-snug;
}

p, .body {
  @apply text-base md:text-lg leading-relaxed;
}

.small {
  @apply text-sm leading-normal;
}

/* Button styles */
.btn {
  @apply px-6 py-3 rounded-lg font-medium transition-all duration-200 inline-flex items-center justify-center gap-2;
}

.btn-primary {
  @apply bg-(--color-primary) text-white hover:opacity-90;
}

.btn-secondary {
  @apply bg-(--color-secondary) text-white hover:opacity-90;
}

.btn-outline {
  @apply border border-(--color-primary) text-(--color-primary) hover:bg-(--color-primary) hover:text-white;
}

/* 3D canvas container */
.canvas-container {
  @apply w-full h-[400px] md:h-[500px] lg:h-[600px] relative;
}

/* Neon border with progressive wrap effect */
.neon-border-container {
  position: relative;
  border-radius: 0.5rem;
}

.neon-border-container::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 0.5rem;
  border: 2px solid var(--color-primary);
  opacity: 0;
  pointer-events: none;
  box-shadow: 
    0 0 20px var(--color-primary),
    0 0 40px var(--color-primary),
    0 0 60px var(--color-primary),
    inset 0 0 10px var(--color-primary);
  filter: brightness(1.5);
  z-index: 10;
}

.neon-border-container:hover::before {
  animation: draw-border-rounded 2s ease-out forwards;
}

@keyframes draw-border-rounded {
  0% {
    opacity: 1;
    clip-path: inset(0 100% 100% 0 round 0.5rem);
  }
  25% {
    clip-path: inset(0 0 100% 0 round 0.5rem);
  }
  50% {
    clip-path: inset(0 0 0 0 round 0.5rem);
  }
  75% {
    clip-path: inset(0 0 0 0 round 0.5rem);
  }
  100% {
    opacity: 1;
    clip-path: inset(0 0 0 0 round 0.5rem);
  }
}